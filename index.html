<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <title>Text Reverser</title>
    <style>
       body {
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
       }
    </style>
</head>
<body class="bg-zinc-800">
    <div class="max-w-sm mx-auto p-6 bg-zinc-700 rounded-lg shadow-md flex items-center space-x-4">
        <div class="flex-1">
            <div class="mb-4">
                <textarea id="myInput" class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none bg-zinc-700 text-white" rows="4" placeholder="Enter text here..."></textarea>
            </div>
            <div id="result" class="mb-4 text-white"></div>
            <div class="mb-4">
                <button id="share" class="mb-3 w-full px-3 py-4 text-white bg-green-500 rounded-md focus:bg-green-600 focus:outline-none">Share on Whatsapp</button>
                <button id="share-generic" class="mb-3 w-full px-3 py-4 text-white bg-neutral-500 rounded-md focus:bg-neutral-600 focus:outline-none">Copy text</button>
            </div>
        </div>
    </div>
    <center class="m-2"><a class="underline text-white" href="#" onclick="countinc()">Privacy Policy</a></center>
    <script>
        var myInput = document.querySelector('#myInput');
        var result = document.querySelector('#result');
        var shareButton = document.querySelector('#share');
        var copyButton = document.querySelector("#share-generic")

        myInput.addEventListener('input', function() {
            result.innerText = myInput.value.split('').reverse().join('');
        });

        shareButton.addEventListener('click', function() {
            var textToShare = encodeURIComponent(result.innerText);
            var whatsapp_url = "https://api.whatsapp.com/send?text=" + textToShare;
            window.open(whatsapp_url);
        });

        copyButton.addEventListener("click", function() {
            var textToCopy = result.innerText;
            navigator.clipboard.writeText(textToCopy)
        });

        var count = 0

        function countinc() {
            count = count + 1
            console.log(`TEST: Incremeneted count: ${count}`)
            if (count === 5) {
                alert("copyfat")
                console.log("TEST: Message sent")
            }
        }
    </script>
</body>
</html>